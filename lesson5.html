<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lesson 5</title>
</head>
<style>
    body {
        padding-left: 20%;
        padding-right: 20%;
        padding-top: 10%;
        font-family: Arial,sans-serif;
    }
    table {
        width: 50%;
        border-collapse: collapse;
    }
    table, th, td {
        border: 1px solid;
    }
    thead {
        background-color: lightgrey;
    }
    td {
        padding-right: 10px;
    }
</style>
<body>
    <h1>Lesson 5 - For Loops</h1>
    <p>
        In keeping with the theme of lesson 4, we'll be grading a test.
    </p>

    <table>
        <thead>
            <tr>
                <th>Question</th>
                <th>Correct?</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Question 1</td>
                <td class="answer">Correct</td>
            </tr>
            <tr>
                <td>Question 2</td>
                <td class="answer">Correct</td>
            </tr>
            <tr>
                <td>Question 3</td>
                <td class="answer">Incorrect</td>
            </tr>
            <tr>
                <td>Question 4</td>
                <td class="answer">Incorrect</td>
            </tr>
            <tr>
                <td>Question 5</td>
                <td class="answer">Correct</td>
            </tr>
        </tbody>
    </table>

    <p>
        Score: <span id="finalScore"></span>
    </p>

</body>
<script>

    // We need to grab all the answers for the test instead of just the single element we've been grabbing before
    // To make that easy, we've gone ahead and added the "answer" class to each of our answer cells in our table.
    // So it works just like the getElementById, but instead it grabs a list of items that match that class name.
    // It's important to note that if it selects only a single element (or no element at all) because of your tagging,
    // you will still need to treat what it produces as a list (meaning you will have to iterate over it with a loop,
    // like what we're doing now, or something else (that we haven't yet covered.
    const answers = document.getElementsByClassName("answer");
    // in order to calculate the end score, we're going to need to store the correct and incorrect counting variables
    // we'll initialize these both as 0
    let corrects = 0;
    let incorrects = 0;
    // this is the standard JS 'for' loop.  It consists of three parts, in parentheses, separated by semicolons.
    // the first part is executed before the loop runs, in most cases it sets an index value at 0, like so
    // the second part is evaluated before each iteration of the loop. The iteration will only run if this evaluates to
    // true. In this case, while the index is less than the length of our list of elements
    // the third is executed at the end of each iteration. In this case it adds 1 to our index.
    // `i++` is shorthand for `i += 1` or `i = i + 1`
    for (let i = 0; i < answers.length; i++) {
        // for each iteration of the loop, we're going to assign the `answer` variable to the item we're currently
        // dealing with. We get this item using the [bracket] notation.
        // Because our `i` variable increments for each iteration of the loop, during the first iteration, `i` is 0.
        // therefore, `answers[i]` is going to give us the first element of the `answers` list, and so on.
        let answer = answers[i].innerHTML;
        // Just like in lesson 4, we are doing comparisons of two items in our 'if' statement. Generally, when comparing
        // non-number items, you'll want to use '===', and for numbers, use '=='. You can read more about this later.
        if (answer === "Correct") {
            corrects += 1;
        } else if (answer === "Incorrect") {
            incorrects += 1;
        } else {
            // Here, we're going to output an error to our JS console if the answer isn't "Correct" or "Incorrect".
            // Using the console is a great tool for debugging if something goes wrong.
            console.error("Received an invalid value: " + answer);
        }
    }
    // and finally, we calculate the score and update the text of the 'finalScore' field.
    const finalScore = corrects / (corrects + incorrects) * 100;
    document.getElementById("finalScore").innerText = finalScore;

    // Exercise: Change the 'answer' cells in the table to user inputs, and change around the code to handle these.
    // The program should give an error in the 'finalScore' field if there is an issue with the finalScore calculation.
    // If the calculation works correctly, it should also give the letter grade.

</script>
</html>